<link rel="stylesheet"  type="text/css" href="{{url_for('.static', filename='style.css')}}">
<script type="text/javascript" src="{{ url_for('static', filename='main.js') }}"></script>

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>NBA All-Star Predictor</title>
  </head>

  <!-- Top navigation bar -->
  <div class="topnav">
    <ul>
      <li id="logo"><img src="" alt="LOGO"></li>
      <li><a href="/">Predictor</a></li>
      <li><a href="/leaderboard">Leaderboard</a></li>
      <li><a href="#fulltable" class="active">All Players</a></li>
      <li><a href="/standings">Standings</a></li>
      <li><a href="/about">About</a></li>
    </ul>
  </div>

  <body>
    <h1 class="title"><u>Full Player Table</u></h1>

    <p class="descript">This the full leaderboard tracking all players' All-Star likelihood
        based on their current projected statistics. Similarly to the main search feature, the games
        played/started statistics are projected to be the maximum possible based on current games missed.

        <br><br>

        In an analysis of past NBA All-Stars and which statistics were relevant to All-Star
        likelihood, a strong correlation was found between a player's past All-Star appearances
        and the probability that player would be an All-Star again. While testing the prediction
        algorithm, this increased the accuracy of the model by a significant amount, so it is
        considered in all leaderboard evaluations.
        
        <br><br>
        
        That being said, this program also runs calculations considering an 'unbiased' probability, where
        previous All-Star appearances are not considered. You can see these rankings by toggling the
        checkbox below.
        
        <br><br>
    </p>

    <p class="descript" style="font-size: 13;"><i>(Last updated {{ timelog }})</i></p>

    <br><br>

    <!-- Toggle Previous All-Star Bias -->
    <form>
        <div id="bias-toggle">
                <input type="checkbox" onclick="toggleFullTableBias()" id="bias-checkbox"/>
                <label for="bias-checkbox">Toggle Previous All-Star Bias</label>
        </div>
    </form>

    <br>

    <!-- Leaderboard -->
    <div id="leaderboard">
        <h2 class="table-title"><u>All NBA Players</u></h2>
        <table id="full-leaderboard" class="hidden">
            <tr id="table-head">
                <th>Rank</th>
                <th>Daily</th>
                <th>Name</th>
                <th>Team</th>
                <th>Pos.</th>
                <th>Age</th>
                <th>Prev. All-Star</th>
                <th>% All-Star</th>
                <th>Unbiased %</th>
            </tr>
            
            <tbody>

            </tbody>
        </table>

        <table id="unbiased-leaderboard" class="hidden">
            <tr id="table-head">
                <th>Rank</th>
                <th>Daily</th>
                <th>Name</th>
                <th>Team</th>
                <th>Pos.</th>
                <th>Age</th>
                <th>Prev. All-Star</th>
                <th>Unbiased %</th>
                <th>% All-Star</th>
            </tr>
            
            <tbody>

            </tbody>
        </table>
    </div>

    <br><br><br>

    <!-- Data loader -->
    <script type="text/javascript">
        loadAllPlayerData();
    </script>

    <div id="bottom"></div>
  </body>
</html>